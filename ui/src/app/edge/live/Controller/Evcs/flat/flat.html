<oe-flat-widget button (click)="presentModal()" style="cursor: pointer;" *ngIf="isInitialized && evcsComponent"
    [title]="evcsComponent.alias" [icon]="{name: 'oe-evcs', color: 'environmental'}">

    <!-- Show if Connection is Successful -->
    <ng-container *ngIf="isConnectionSuccessful, else noConnection">

        <oe-flat-widget-line [name]="'EDGE.INDEX.WIDGETS.EVCS.STATUS'| translate" [value]="status" leftColumnWidth="20">
        </oe-flat-widget-line>

        <!-- Check if energy since beginning is allowed to be shown -->
        <oe-flat-widget-line *ngIf="isEnergySinceBeginningAllowed"
            [name]="'EDGE.INDEX.WIDGETS.EVCS.ENERGY_SINCE_BEGINNING' | translate"
            [channelAddress]="componentId + '/EnergySession'" [converter]="CONVERT_TO_KILO_WATTHOURS">
        </oe-flat-widget-line>

        <oe-flat-widget-line *ngIf="isChargingEnabled" [name]="'GENERAL.MODE'| translate" [value]="mode">
        </oe-flat-widget-line>

        <!-- Show if charging is enabled -->
        <ng-container *ngIf="isChargingEnabled">

            <!-- Show if chargeMode is EXCESS_POWER -->
            <ng-container *ngIf="chargeMode === 'EXCESS_POWER'">

                <!-- Show if defaultChargeMinPower greater 0 -->
                <ng-container *ngIf="defaultChargeMinPower > 0">
                    <oe-flat-widget-line [name]="'EDGE.INDEX.WIDGETS.EVCS.OPTIMIZED_CHARGE_MODE.MIN_CHARGING' | translate"
                        [value]="'GENERAL.ACTIVE' | translate">
                    </oe-flat-widget-line>

                    <oe-flat-widget-line
                        [name]="'EDGE.INDEX.WIDGETS.EVCS.OPTIMIZED_CHARGE_MODE.MIN_CHARGE_POWER' | translate"
                        [converter]="CONVERT_WATT_TO_KILOWATT" [value]="defaultChargeMinPower" leftColumnWidth="50">
                    </oe-flat-widget-line>
                </ng-container>

                <oe-flat-widget-line leftColumnWidth="50" [name]="'EDGE.INDEX.WIDGETS.EVCS.PRIORITIZATION' | translate"
                    [value]="prioritization | translate">
                </oe-flat-widget-line>
            </ng-container>

            <oe-flat-widget-line *ngIf="chargeMode === 'FORCE_CHARGE'"
                [name]="'EDGE.INDEX.WIDGETS.EVCS.FORCE_CHARGE_MODE.MAX_CHARGING' | translate"
                [converter]="CONVERT_WATT_TO_KILOWATT" [value]="maxChargingValue">
            </oe-flat-widget-line>

            <oe-flat-widget-line *ngIf="energySessionLimit !== 0"
                [name]="'EDGE.INDEX.WIDGETS.EVCS.ENERGY_LIMIT' | translate" [converter]="CONVERT_TO_KILO_WATTHOURS"
                [value]="energySessionLimit"></oe-flat-widget-line>
        </ng-container>

    </ng-container>

    <ng-template #noConnection>
        <oe-flat-widget-line leftColumnWidth="100"
            [name]="'EDGE.INDEX.WIDGETS.EVCS.NO_CONNECTION.DESCRIPTION' | translate">
        </oe-flat-widget-line>
    </ng-template>
</oe-flat-widget>
