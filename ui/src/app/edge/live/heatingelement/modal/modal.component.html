<ion-header>
    <ion-toolbar class="ion-justify-content-center" color="primary">
        <!-- No logic: controller.alias becomes controller.id -> talk to pooran -->
        <!-- <ion-title *ngIf="controller.alias != controller.id">{{ controller.alias }}</ion-title>
                <ion-title *ngIf="controller.alias == controller.id">{{ controller.id }}</ion-title> -->
        <ion-title>{{controller.id}}</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="modalCtrl.dismiss()">
                <ion-icon name="close"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-card-content class="underline">
        <table class="full_width">
            <tr>
                <td style="width: 65%">
                    Zustand
                </td>
                <td style="width: 35%" class="align_right">
                    Aktiv</td>
            </tr>
            <tr>
                <td style="width: 65%">
                    Aktive Phasen
                </td>
                <td style="width: 35%" class="align_right">
                    2</td>
            </tr>
            <div style="padding-top: 5px;"></div>
            <tr>
                <td style="width:65%">
                    Heizleistung
                </td>
                <td style="width: 35%" class="align_right">
                    {{1337 | unitvalue:'W'}}</td>
            </tr>
        </table>
        <table class="full_width">
            <tr>
                <td style="width:2%"></td>
                <td style="width:23%"><span translate>General.Phase</span>&nbsp;L2</td>
                <td style="width:40%"></td>
                <td class="align_right" style="width: 35%">
                    {{ 800 | unitvalue:'W' }}
                </td>
            </tr>
            <tr>
                <td style="width:2%"></td>
                <td style="width:23%"><span translate>General.Phase</span>&nbsp;L3</td>
                <td style="width:40%"></td>
                <td class="align_right" style="width: 35%">
                    {{ 537 | unitvalue:'W' }}
                </td>
            </tr>
        </table>
    </ion-card-content>
    <ion-card-content class="underline">
        <table class="full_width">
            <tr>
                <td colspan="3">
                    <ion-segment>
                        <ion-segment-button value="MANUAL_ON">
                            <ion-item lines="none">
                                <ion-icon color="success" style="width:40px" name="power"></ion-icon>
                <td translate>
                    General.On
                </td>
                </ion-item>
                </ion-segment-button>

                <ion-segment-button value="AUTOMATIC">
                    <ion-item lines="none">
                        <ion-icon style="width:40px" name="sunny">
                        </ion-icon>
                        <td translate>
                            General.Automatic
                        </td>
                    </ion-item>
                </ion-segment-button>
                <ion-segment-button value="MANUAL_OFF">
                    <ion-item lines="none">
                        <ion-icon name="power" style="width: 40px"></ion-icon>
                        <td translate>
                            General.Off
                        </td>
                    </ion-item>
                </ion-segment-button>
                </ion-segment>
                </td>
            </tr>
        </table>
    </ion-card-content>
    <ion-card-content>
        <!-- IONIC Table for centering IONIC Components properly -->
        <ion-grid>
            <ion-row class="ion-justify-content-center">
                <ion-item lines="none">
                    Endzeit:
                    <ion-datetime value="{{time}}" [pickerOptions]="customPickerOptions" displayFormat="HH:mm">
                    </ion-datetime>
                </ion-item>
            </ion-row>
            <!-- for spacing -->
            <div style="padding-top: 10px;"></div>
            <ion-row class="ion-justify-content-center">
                <ion-segment value={{modimode}} class="small">
                    <ion-segment-button value="ZEIT">
                        <ion-item lines="none">
                            <ion-icon style="width:40px" name="sunny">
                            </ion-icon>
                            <ion-label>
                                ZEIT
                            </ion-label>
                        </ion-item>
                    </ion-segment-button>
                    <ion-segment-button value="KWH">
                        <ion-item lines="none">
                            <ion-img style="width:30px" src="assets/img/gridStorage.png">
                            </ion-img>
                            <ion-label>
                                KWH
                            </ion-label>
                        </ion-item>
                    </ion-segment-button>
                </ion-segment>
            </ion-row>
        </ion-grid>
        <table class="full_width">
            <tr>
                <td style="width: 65%">
                    Mindestlaufzeit</td>
                <td style="width: 35%" class="align_right">
                    {{5 | unitvalue:'H'}}</td>
            </tr>
        </table>
        <table class="full_width" *ngIf="modimode == 'ZEIT'">
            <tr>
                <ion-range style="width: 100%" min="0" max="8" color="dark" pin="true" style="padding-top: 8px;"
                    step="100" debounce="500" value="{{controller.properties['forceChargeMinPower']}}">
                    <ion-label slot="start">
                        {{ 0 | unitvalue:'H'}}
                    </ion-label>
                    <ion-label slot="end">
                        {{ 8 | unitvalue:'H'}}
                    </ion-label>
                </ion-range>
            </tr>
        </table>
    </ion-card-content>
</ion-content>