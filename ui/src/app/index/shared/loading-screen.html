<ion-content class="{{environment.theme === 'FENECON' ? 'background': ''}}">
  <ng-container [ngSwitch]="backendState">

    <ngx-spinner [name]="spinnerId" *ngSwitchCase="'loading'">
      <p style="color: white" translate><span translate>
          LOADING_SCREEN.LOADING
        </span>
        ...
      </p>
    </ngx-spinner>

    <ng-container *ngSwitchCase="'failed'">
      <ng-container *ngIf="environment.theme !== 'FENECON';else fenecon">
        <header></header>
        <ion-grid style="align-content: center; height: 100%; vertical-align: middle;">
          <ion-row class="ion-justify-content-center">
            <ion-col size="12" size-md="6" size-lg="4">
              <ion-card>
                <ion-card-content>
                  <ng-container *ngTemplateOutlet="content"></ng-container>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ng-container>

      <ng-template #fenecon>
        <ion-grid style="align-content: center; height: 100%;vertical-align: middle;">
          <ion-row class="ion-justify-content-center ion-align-items-center ion-padding">
            <ion-col size-lg="4" size-sm="10" size-md="8">
              <ion-card>
                <ion-item lines="none" class="ion-text-center">
                  <ion-grid class="ion-justify-content-center">
                    <ion-row class="ion-justify-content-center ion-no-padding">
                      <ion-img style="height: 10vh;" src="assets/img/fenecon-logo.png" />
                    </ion-row>
                  </ion-grid>
                </ion-item>

                <ion-card-content class="ion-justify-content-center ion-text-center">
                  <ng-container *ngTemplateOutlet="content"></ng-container>
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ng-template>
    </ng-container>
  </ng-container>
</ion-content>


<ng-template #content>
  <ion-row class="ion-justify-content-center ion-align-items-center ion-no-padding">
    <ion-col
      style="display: flex; align-items: center; justify-content: center;border: 2px solid var(--ion-color-primary)">
      <ion-icon name="cloud-offline-outline" color="danger" size="large" style="padding-right: 5%;"></ion-icon>
      <ion-label color="primary" class="ion-text-wrap" style="font-size: larger;"
        translate>LOADING_SCREEN.SERVER_NOT_ACCESSIBLE</ion-label>
    </ion-col>
  </ion-row>

  <ion-row class="ion-justify-content-center ion-align-items-center">
    <ion-col size="12">
      <ion-item lines="none" class="ion-text-center">
        <ion-label class="ion-text-wrap" translate>
          LOADING_SCREEN.SERVER_NOT_ACCESSIBLE_DESCRIPTION
        </ion-label>
      </ion-item>
    </ion-col>
  </ion-row>

  <ion-row class="ion-justify-content-center ion-align-items-center ion-padding-top">
    <ion-col size="12">
      <ion-item lines="none" class="ion-text-center">
        <ion-label class="ion-text-wrap" style="font-weight: bolder;" translate>
          LOADING_SCREEN.SERVER_NOT_ACCESSIBLE_TRY_RELOADING
        </ion-label>
      </ion-item>
    </ion-col>
  </ion-row>

  <ion-row class="ion-justify-content-center ion-align-items-center" *ngIf="environment.theme !== 'OpenEMS'">
    <ion-col size="12" class="ion-text-center">
      <ng-container [ngSwitch]="environment.theme">
        <ion-button *ngSwitchCase="'Heckert'" size="small" fill="outline"
          href="https://symphon-e.heckert-solar.com/docs/de/fems/ui/introduction.html#_offlinelokal" target="_blank"
          translate>LOADING_SCREEN.SERVER_NOT_ACCESSIBLE_ACCESS_LOCALLY</ion-button>
        <ion-button *ngSwitchDefault size="small" fill="outline"
          href="https://docs.fenecon.de/de/fems/ui/introduction.html#_offlinelokal" target="_blank"
          translate>LOADING_SCREEN.SERVER_NOT_ACCESSIBLE_ACCESS_LOCALLY</ion-button>
      </ng-container>
    </ion-col>
  </ion-row>

  <ion-row *ngIf="environment.theme === 'FENECON'">
    <ion-item lines="none" class="ion-margin-top">
      <ul style="font-size: smaller;">
        <li><a href="https://fenecon.de/faq/" target="_blank">
            FAQs
          </a>
        </li>
        <li>
          <a href="https://status.fenecon.de/" target="_blank">
            FENECON Status
          </a>
        </li>
      </ul>
    </ion-item>
  </ion-row>
</ng-template>
